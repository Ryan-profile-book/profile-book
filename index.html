<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë„·í”Œì—°ê°€ í”„ë¡œí•„ë¶ ë§Œë“¤ê¸°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 20px 12px 36px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #fef5ff 0, #f5f7fb 45%, #f3f3f3 100%);
      color: #222;
    }

    .page {
      max-width: 1040px;
      margin: 0 auto;
    }

    /* í—¤ë” */

    .hero {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      margin-bottom: 24px;
    }

    .hero-text {
      flex: 1;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(125, 95, 255, 0.06);
      color: #6a4bff;
      font-size: 11px;
      margin-bottom: 8px;
    }

    .hero-text h1 {
      margin: 0 0 8px;
      font-size: 24px;
      letter-spacing: -0.02em;
    }

    .hero-text p {
      margin: 0;
      font-size: 13px;
      color: #555;
      line-height: 1.5;
    }

    .hero-image {
      flex-shrink: 0;
      width: 110px;
      height: 110px;
      border-radius: 24px;
      background: linear-gradient(135deg, #ffd6e7, #c8d6ff);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: #555;
      text-align: center;
      padding: 10px;
    }

    /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */

    .main {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
    }

    .form-panel,
    .preview-panel {
      flex: 1 1 360px;
      background: #fff;
      border-radius: 20px;
      padding: 16px 18px 20px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.06);
    }

    .panel-title {
      font-size: 14px;
      font-weight: 600;
      margin: 2px 0 4px;
    }

    .panel-sub {
      font-size: 11px;
      color: #888;
      margin-bottom: 12px;
    }

    /* ë‹¨ê³„ í‘œì‹œ */

    .step-indicator {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 11px;
      color: #666;
    }

    .step-dots {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #ddd;
    }

    .dot.active {
      width: 16px;
      background: #7c5cff;
    }

    .dot.done {
      background: #b7a5ff;
    }

    .step-title {
      font-size: 13px;
      font-weight: 600;
      margin: 10px 0 6px;
      color: #333;
    }

    .step-desc {
      font-size: 11px;
      color: #888;
      margin-bottom: 8px;
    }

    .step {
      display: none;
    }
    .step.active {
      display: block;
    }

    label {
      display: block;
      font-size: 12px;
      margin: 6px 0 3px;
      color: #555;
    }

    input[type="text"],
    textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #dde0eb;
      font-size: 12px;
      resize: vertical;
      background: #fafbff;
    }

    textarea { min-height: 60px; }

    input:focus,
    textarea:focus {
      outline: none;
      border-color: #8467ff;
      box-shadow: 0 0 0 1px rgba(132, 103, 255, 0.2);
      background: #fff;
    }

    .small-tip {
      font-size: 11px;
      color: #9a9aac;
      margin-bottom: 4px;
    }

    /* ì»¤ë²„ ì„ íƒ ì¹´ë“œ */

    .cover-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-top: 4px;
      margin-bottom: 10px;
    }

    .cover-card {
      border-radius: 14px;
      padding: 8px 6px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      border: 1px solid transparent;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
      min-height: 70px;
    }

    .cover-card[data-theme="soft"] {
      background: linear-gradient(145deg, #ffe9f4, #fef6ff);
    }
    .cover-card[data-theme="night"] {
      background: radial-gradient(circle at top, #1f2937, #020617);
      color: #f9fafb;
    }
    .cover-card[data-theme="mint"] {
      background: linear-gradient(145deg, #e0fff7, #f6fff9);
    }

    .cover-label {
      font-size: 11px;
      opacity: 0.8;
    }

    .cover-main {
      font-size: 12px;
      font-weight: 600;
    }

    .cover-emoji {
      position: absolute;
      right: 6px;
      bottom: 4px;
      font-size: 20px;
      opacity: 0.8;
    }

    .cover-card input[type="radio"] {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    .cover-card.active {
      border-color: #7c5cff;
      box-shadow: 0 0 0 1px rgba(124, 92, 255, 0.6);
    }

    /* ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-top: 16px;
    }

    .btn {
      flex: 1;
      padding: 9px 10px;
      border-radius: 999px;
      border: none;
      font-size: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #7c5cff, #b591ff);
      color: #fff;
    }

    .btn-secondary {
      background: #f3f4ff;
      color: #555;
    }

    .btn:disabled {
      opacity: 0.4;
      cursor: default;
    }

    /* ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ */

    .profile-book {
      border-radius: 18px;
      padding: 16px 16px 18px;
      background: linear-gradient(135deg, #ffffff, #f8f6ff);
      border: 1px solid #ece6ff;
      font-size: 13px;
      line-height: 1.7;
      min-height: 240px;
    }

    .profile-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .profile-header-left {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .profile-name {
      font-size: 15px;
      font-weight: 600;
    }

    .profile-tagline {
      font-size: 11px;
      color: #777;
    }

    .profile-pill {
      padding: 3px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: #f0ebff;
      color: #6b4df7;
    }

    .profile-section {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed #e2def5;
    }

    .profile-section-title {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #444;
    }

    .chip-list {
      display: inline-flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .chip {
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid #ddd;
      font-size: 11px;
      background: #fff;
      white-space: nowrap;
    }

    .placeholder {
      font-size: 11px;
      color: #aaa;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 10px;
      color: #999;
      text-align: right;
    }

    @media (max-width: 768px) {
      body {
        padding: 16px 10px 32px;
      }
      .hero {
        flex-direction: column;
        align-items: flex-start;
      }
      .hero-image {
        align-self: center;
      }
      .panel-title {
        font-size: 13px;
      }
      .main {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="hero">
      <div class="hero-text">
        <div class="hero-badge">ë„·í”Œì—°ê°€ Â· Profile Book</div>
        <h1>ë‚˜ë¥¼ ë‹®ì€ í”„ë¡œí•„ë¶ ë§Œë“¤ê¸°</h1>
        <p>
          í•œ ë²ˆì— ë‹¤ ì“°ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”.<br />
          í‘œì§€ â†’ ë‚˜ â†’ ì¸ìƒì‘í’ˆ â†’ ì·¨í–¥ ìˆœì„œë¡œ, í•œ ì¥ì”© ì²œì²œíˆ ì±„ì›Œë³¼ê²Œìš”.
        </p>
      </div>
      <div class="hero-image">
        ê²‰í‘œì§€ ì´ë¯¸ì§€ëŠ”<br>ì•„ë˜ì—ì„œ ê³¨ë¼ì£¼ì„¸ìš” :)
      </div>
    </header>

    <!-- ë©”ì¸: ë‹¨ê³„ë³„ ì…ë ¥ + ë¯¸ë¦¬ë³´ê¸° -->
    <main class="main">
      <!-- ì…ë ¥ íŒ¨ë„ -->
      <section class="form-panel">
        <div class="panel-title">ë‚´ í”„ë¡œí•„ë¶ ë§Œë“¤ê¸°</div>
        <div class="panel-sub">ë‹¤ìŒ ë²„íŠ¼ì„ ëˆŒëŸ¬ í•œ ë‹¨ê³„ì”© ì±„ì›Œë³´ì„¸ìš”.</div>

        <div class="step-indicator">
          <div id="step-label">1 / 4 ë‹¨ê³„</div>
          <div class="step-dots">
            <div class="dot active" data-step-dot="0"></div>
            <div class="dot" data-step-dot="1"></div>
            <div class="dot" data-step-dot="2"></div>
            <div class="dot" data-step-dot="3"></div>
          </div>
        </div>

        <form id="profile-form">
          <!-- STEP 0: í‘œì§€ & ê¸°ë³¸ -->
          <div class="step active" data-step="0">
            <div class="step-title">í‘œì§€ & ê¸°ë³¸ ì •ë³´</div>
            <div class="step-desc">í”„ë¡œí•„ë¶ì— ë“¤ì–´ê°ˆ ì´ë¦„ê³¼ í•œ ì¤„ ì†Œê°œ, í‘œì§€ ëŠë‚Œì„ ê³¨ë¼ì£¼ì„¸ìš”.</div>

            <label>ë‹‰ë„¤ì„ ë˜ëŠ” ì´ë¦„</label>
            <input type="text" id="nickname" placeholder="ì˜ˆ: ë¼ì´ì–¸ / R" />

            <label>ì§§ì€ í•œ ì¤„ ì†Œê°œ</label>
            <input type="text" id="tagline" placeholder="ì˜ˆ: ì¼ìƒì„ ê¸°ë¡í•˜ëŠ” ê´€ì°°ìí˜• ENFP" />

            <label>ê²‰í‘œì§€ ë¶„ìœ„ê¸° ì„ íƒ</label>
            <div class="small-tip">ë§ˆìŒì— ë“œëŠ” ìŠ¤íƒ€ì¼ì„ í•˜ë‚˜ ê³¨ë¼ì£¼ì„¸ìš”. (ë‚˜ì¤‘ì— ë°”ê¿”ë„ ë¼ìš”)</div>
            <div class="cover-grid" id="cover-grid">
              <div class="cover-card active" data-theme="soft">
                <span class="cover-label">ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…”</span>
                <span class="cover-main">ì¡°ìš©í•œ ê°ì„± ì¼ê¸°ì¥</span>
                <span class="cover-emoji">ğŸŒ¸</span>
                <input type="radio" name="cover_theme" value="soft" checked />
              </div>
              <div class="cover-card" data-theme="night">
                <span class="cover-label">ë°¤ ê°ì„±</span>
                <span class="cover-main">ì•¼í–‰ì„± ê°ìƒëŸ¬ì˜ ë…¸íŠ¸</span>
                <span class="cover-emoji">ğŸŒ™</span>
                <input type="radio" name="cover_theme" value="night" />
              </div>
              <div class="cover-card" data-theme="mint">
                <span class="cover-label">ì‚°ëœ»í•œ ë¯¼íŠ¸</span>
                <span class="cover-main">ê°€ë³ê²Œ ìˆ¨ ì‰¬ëŠ” ë…¸íŠ¸</span>
                <span class="cover-emoji">ğŸŒ¿</span>
                <input type="radio" name="cover_theme" value="mint" />
              </div>
            </div>
          </div>

          <!-- STEP 1: ë‚¨ì´ ë³´ëŠ” ë‚˜ / ë‚´ê°€ ë³´ëŠ” ë‚˜ -->
          <div class="step" data-step="1">
            <div class="step-title">ë‚¨ì´ ë³´ëŠ” ë‚˜ Â· ë‚´ê°€ ë³´ëŠ” ë‚˜</div>
            <div class="step-desc">ì§€ê¸ˆê¹Œì§€ ë“¤ì—ˆë˜ ì´ì•¼ê¸°ì™€ ë‚´ê°€ ëŠë¼ëŠ” ë‚˜ë¥¼ í‚¤ì›Œë“œë¡œ ì ì–´ë³¼ê²Œìš”.</div>

            <div class="small-tip">ì‰¼í‘œ(,)ë¡œ êµ¬ë¶„í•´ì„œ ì ì–´ ì£¼ì„¸ìš”. ì˜ˆ: ì°¨ë¶„í•œ, ê´€ì°°ì, í˜„ì‹¤ì ì¸</div>

            <label>ë‚¨ë“¤ì´ ë‚˜ì—ê²Œ ì ì–´ì¤€ í‚¤ì›Œë“œ</label>
            <input type="text" id="others_keywords" placeholder="ì˜ˆ: ì°¨ë¶„í•œ, ë”°ëœ»í•œ, ë¶„ì„ì " />

            <label>ë‚´ê°€ ë³´ëŠ” ë‚˜ì˜ í‚¤ì›Œë“œ</label>
            <input type="text" id="self_keywords" placeholder="ì˜ˆ: ì¡°ìš©í•œ, ì§‘ìš”í•œ, ìœ ë¨¸ìˆëŠ”" />
          </div>

          <!-- STEP 2: ì¸ìƒì‘í’ˆ -->
          <div class="step" data-step="2">
            <div class="step-title">ë‚˜ì˜ ì¸ìƒì‘í’ˆì„ ì°¾ì•„ì„œ</div>
            <div class="step-desc">ì˜í™”, ë“œë¼ë§ˆ, ì±…, ë°ˆ... ë­ë“  ì¢‹ì•„ìš”. ë‚˜ë¥¼ ë‹®ì•˜ë‹¤ê³  ëŠê¼ˆë˜ ìˆœê°„ë“¤ì„ ì ì–´ë´ìš”.</div>

            <label>ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ì‘í’ˆ</label>
            <input type="text" id="fav_work" placeholder="ì˜ˆ: ì˜í™” &lt;ë¹„í¬ ì„ ë¼ì´ì¦ˆ&gt;" />

            <label>ì¸ìƒì´ë¼ê³  ëŠê¼ˆë˜ ì¥ë©´ / ì´ìœ </label>
            <textarea id="life_scene" placeholder="ì–´ë–¤ ì¥ë©´ì´ ì™œ ì™€ë‹¿ì•˜ëŠ”ì§€ ì ì–´ì£¼ì„¸ìš”."></textarea>

            <label>ë‚´ê°€ ì˜ ì•ˆ ë§ëŠ” ì‘í’ˆë“¤ì˜ ê³µí†µì </label>
            <textarea id="dislike_common" placeholder="ì˜ˆ: ì¸ë¬¼ì˜ ê°ì • ë³€í™”ë¥¼ ì„¤ëª… ì—†ì´ ë°€ì–´ë¶™ì´ëŠ” ì‘í’ˆë“¤"></textarea>
          </div>

          <!-- STEP 3: ì·¨í–¥ & ê°€ì¹˜ -->
          <div class="step" data-step="3">
            <div class="step-title">ë¬´ì˜ì‹ ì† ì·¨í–¥ & ë‚˜ë¥¼ ì›€ì§ì´ëŠ” ê²ƒë“¤</div>
            <div class="step-desc">ê³µê°„, ì‚¬ëŒ, ë‚´ê°€ ë˜ê³  ì‹¶ì€ ëª¨ìŠµ, ì¤‘ìš”í•˜ê²Œ ëŠë¼ëŠ” ê°€ì¹˜ë¥¼ ì •ë¦¬í•´ë³¼ê²Œìš”.</div>

            <label>ë‚˜ì˜ ì‹œê°ì  ì·¨í–¥</label>
            <textarea id="visual_taste" placeholder="ì˜ˆ: ë‚®ì€ ì±„ë„ì˜ ìƒ‰ê°, ê¹”ë”í•œ êµ¬ë„, ìì—°ê´‘ì´ ë“¤ì–´ì˜¤ëŠ” ê³µê°„"></textarea>

            <label>ë‚´ê°€ í¸ì•ˆí•¨ì„ ëŠë¼ëŠ” ê³µê°„ / ì‚¬ëŒì˜ ë¶„ìœ„ê¸°</label>
            <textarea id="space_people" placeholder="ì˜ˆ: ë„ˆë¬´ ì‹œë„ëŸ½ì§€ ì•Šì€ ì¹´í˜, ê³¼í•˜ê²Œ ë¦¬ë“œí•˜ì§€ ì•ŠëŠ” ì‚¬ëŒ"></textarea>

            <label>ë‚˜ì˜ ì´ìƒì  ìê¸°ìƒ(ideal self)</label>
            <textarea id="ideal_self" placeholder="ì˜ˆ: ë‚´ ì†ë„ë¥¼ ì§€í‚¤ë©´ì„œë„, ì‚¬ëŒë“¤ì—ê²Œ ë”°ëœ»í•˜ê²Œ ë‹¤ê°€ê°€ëŠ” ì‚¬ëŒ"></textarea>

            <label>ë‚˜ë¥¼ ì›€ì§ì´ëŠ” ê°ì • & ê°€ì¹˜ (2~5ê°œ)</label>
            <div class="small-tip">ì‰¼í‘œ(,)ë¡œ êµ¬ë¶„í•´ì„œ ì ì–´ ì£¼ì„¸ìš”. ì˜ˆ: ì•ˆì •ê°, ê¹Šì€ ëŒ€í™”, ì‹ ë¢°, ë°œê²¬</div>
            <input type="text" id="values" placeholder="ì˜ˆ: ì•ˆì •ê°, ê¹Šì€ ëŒ€í™”, ì‹ ë¢°, ë°œê²¬" />

            <label>ì´ë²ˆ ë„·í”Œì—°ê°€ ëª¨ì„ì„ í†µí•´ ìƒˆë¡œ ì•Œê²Œ ëœ ë‚˜</label>
            <textarea id="new_side" placeholder="ì˜ˆ: ìƒê°ë³´ë‹¤ ë‚´ê°€ ë‚´ ì·¨í–¥ì„ ì˜ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ"></textarea>

            <label>ì•ìœ¼ë¡œ ë” í‚¤ì›Œê°€ê³  ì‹¶ì€ ë¶€ë¶„</label>
            <textarea id="grow_side" placeholder="ì˜ˆ: ë‚´ ì·¨í–¥ì„ ìˆ¨ê¸°ì§€ ì•Šê³  ìì—°ìŠ¤ëŸ½ê²Œ ë“œëŸ¬ë‚´ëŠ” ì—°ìŠµ"></textarea>
          </div>

          <!-- ë²„íŠ¼ -->
          <div class="nav-buttons">
            <button type="button" class="btn btn-secondary" id="prev-btn">â† ì´ì „</button>
            <button type="button" class="btn btn-primary" id="next-btn">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
          </div>

          <button type="submit" style="display:none;">submit</button>
        </form>
      </section>

      <!-- ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ -->
      <section class="preview-panel">
        <div class="panel-title">í”„ë¡œí•„ë¶ ë¯¸ë¦¬ë³´ê¸°</div>
        <div class="panel-sub">ì™„ì„±ëœ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ì œì¶œí•˜ê±°ë‚˜, í”„ë¡œí•„ë¶ ì œì‘ì— ê·¸ëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆì–´ìš”.</div>

        <div class="profile-book" id="preview"></div>

        <div class="footer-note">
          * ì…ë ¥ ë‚´ìš©ì€ ì„œë²„ì— ì €ì¥ë˜ì§€ ì•Šê³ , ì´ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ë³´ì…ë‹ˆë‹¤.
        </div>
      </section>
    </main>
  </div>

  <script>
    const fields = [
      "nickname",
      "tagline",
      "others_keywords",
      "self_keywords",
      "fav_work",
      "life_scene",
      "dislike_common",
      "visual_taste",
      "space_people",
      "ideal_self",
      "values",
      "new_side",
      "grow_side",
    ];

    const preview = document.getElementById("preview");
    const form = document.getElementById("profile-form");
    const steps = Array.from(document.querySelectorAll(".step"));
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const stepLabel = document.getElementById("step-label");
    const dots = Array.from(document.querySelectorAll("[data-step-dot]"));
    const coverGrid = document.getElementById("cover-grid");

    let currentStep = 0;
    const totalSteps = steps.length;

    function splitChips(str) {
      return str
        .split(",")
        .map((s) => s.trim())
        .filter(Boolean);
    }

    function getCoverTheme() {
      const checked = document.querySelector('input[name="cover_theme"]:checked');
      return checked ? checked.value : "soft";
    }

    function renderPreview() {
      const data = {};
      fields.forEach((id) => {
        const el = document.getElementById(id);
        data[id] = el ? el.value.trim() : "";
      });

      const others = splitChips(data.others_keywords);
      const self = splitChips(data.self_keywords);
      const values = splitChips(data.values);
      const nickname = data.nickname || "ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”";
      const tagline =
        data.tagline || "ì§€ê¸ˆì˜ ë‚˜ë¥¼ í•œ ì¤„ë¡œ ì†Œê°œí•´ë³´ì„¸ìš”.";
      const theme = getCoverTheme();

      let coverEmoji = "ğŸŒ¸";
      if (theme === "night") coverEmoji = "ğŸŒ™";
      if (theme === "mint") coverEmoji = "ğŸŒ¿";

      preview.innerHTML = `
        <div class="profile-header">
          <div class="profile-header-left">
            <div class="profile-name">${nickname}</div>
            <div class="profile-tagline">${tagline}</div>
          </div>
          <div class="profile-pill">${coverEmoji} ë„·í”Œì—°ê°€ Profile</div>
        </div>

        <div class="profile-section">
          <div class="profile-section-title">ë‚¨ì´ ë³´ëŠ” ë‚˜ Â· ë‚´ê°€ ë³´ëŠ” ë‚˜</div>
          <p>
            <strong>ë‚¨ë“¤ì´ ë³¸ ë‚˜</strong><br />
            ${
              others.length
                ? `<span class="chip-list">${others
                    .map((k) => `<span class="chip">${k}</span>`)
                    .join("")}</span>`
                : `<span class="placeholder">í‚¤ì›Œë“œë¥¼ 2~3ê°œ ì •ë„ ì ì–´ë³´ì„¸ìš”.</span>`
            }
          </p>
          <p>
            <strong>ë‚´ê°€ ë³´ëŠ” ë‚˜</strong><br />
            ${
              self.length
                ? `<span class="chip-list">${self
                    .map((k) => `<span class="chip">${k}</span>`)
                    .join("")}</span>`
                : `<span class="placeholder">ë‚´ê°€ ëŠë¼ëŠ” ë‚˜ì˜ ëª¨ìŠµì„ ì ì–´ë³´ì„¸ìš”.</span>`
            }
          </p>
        </div>

        <div class="profile-section">
          <div class="profile-section-title">ë‚˜ì˜ ì¸ìƒì‘í’ˆ</div>
          ${
            data.fav_work
              ? `<p><strong>ì¢‹ì•„í•˜ëŠ” ì‘í’ˆ</strong><br />${data.fav_work}</p>`
              : `<p class="placeholder">ë§ˆìŒì— ê¹Šì´ ë‚¨ì•„ìˆëŠ” ì‘í’ˆì´ ìˆë‹¤ë©´ ì ì–´ì£¼ì„¸ìš”.</p>`
          }
          ${
            data.life_scene
              ? `<p><strong>ì¸ìƒ ì¥ë©´ / ì´ìœ </strong><br />${data.life_scene}</p>`
              : ""
          }
          ${
            data.dislike_common
              ? `<p><strong>ë‚˜ì™€ ì˜ ì•ˆ ë§ëŠ” ì‘í’ˆë“¤ì˜ ê³µí†µì </strong><br />${data.dislike_common}</p>`
              : ""
          }
        </div>

        <div class="profile-section">
          <div class="profile-section-title">ë¬´ì˜ì‹ ì† ì·¨í–¥ & ë‚˜ë¥¼ ì›€ì§ì´ëŠ” ê²ƒë“¤</div>
          ${
            data.visual_taste
              ? `<p><strong>ì‹œê°ì  ì·¨í–¥</strong><br />${data.visual_taste}</p>`
              : ""
          }
          ${
            data.space_people
              ? `<p><strong>í¸ì•ˆí•œ ê³µê°„ / ì‚¬ëŒì˜ ë¶„ìœ„ê¸°</strong><br />${data.space_people}</p>`
              : ""
          }
          ${
            data.ideal_self
              ? `<p><strong>ì´ìƒì  ìê¸°ìƒ</strong><br />${data.ideal_self}</p>`
              : ""
          }
          ${
            values.length
              ? `<p><strong>ë‚˜ë¥¼ ì›€ì§ì´ëŠ” ê°€ì¹˜</strong><br /><span class="chip-list">${values
                  .map((v) => `<span class="chip">${v}</span>`)
                  .join("")}</span></p>`
              : ""
          }
          ${
            !data.visual_taste &&
            !data.space_people &&
            !data.ideal_self &&
            !values.length
              ? `<p class="placeholder">ê³µê°„, ì‚¬ëŒ, ë‚´ê°€ ë˜ê³  ì‹¶ì€ ë‚˜, ì¤‘ìš”í•˜ë‹¤ê³  ëŠë¼ëŠ” ê°ì •ì„ ììœ ë¡­ê²Œ ì ì–´ë³´ì„¸ìš”.</p>`
              : ""
          }
        </div>

        <div class="profile-section">
          <div class="profile-section-title">ë„·í”Œì—°ê°€ì—ì„œ ë°œê²¬í•œ ë‚˜</div>
          ${
            data.new_side
              ? `<p><strong>ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ë‚˜</strong><br />${data.new_side}</p>`
              : ""
          }
          ${
            data.grow_side
              ? `<p><strong>ì•ìœ¼ë¡œ í‚¤ì›Œê°€ê³  ì‹¶ì€ ë¶€ë¶„</strong><br />${data.grow_side}</p>`
              : ""
          }
          ${
            !data.new_side && !data.grow_side
              ? `<p class="placeholder">ëª¨ì„ì„ í†µí•´ ëŠë‚€ ì ì´ë‚˜ ì•ìœ¼ë¡œì˜ ë°©í–¥ì„ ì ì–´ë³´ì„¸ìš”.</p>`
              : ""
          }
        </div>
      `;
    }

    // ë‹¨ê³„ ì „í™˜
    function updateStepUI() {
      steps.forEach((step, idx) => {
        step.classList.toggle("active", idx === currentStep);
      });
      dots.forEach((dot, idx) => {
        dot.classList.remove("active", "done");
        if (idx < currentStep) dot.classList.add("done");
        if (idx === currentStep) dot.classList.add("active");
      });
      stepLabel.textContent = `${currentStep + 1} / ${totalSteps} ë‹¨ê³„`;
      prevBtn.disabled = currentStep === 0;
      nextBtn.textContent =
        currentStep === totalSteps - 1 ? "ì™„ì„± ë³´ê¸°" : "ë‹¤ìŒ ë‹¨ê³„ â†’";
    }

    nextBtn.addEventListener("click", () => {
      if (currentStep < totalSteps - 1) {
        currentStep += 1;
        updateStepUI();
      } else {
        // ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ "ì™„ì„± ë³´ê¸°": ê·¸ëƒ¥ í”„ë¦¬ë·°ì— ì§‘ì¤‘í•˜ë¼ê³  ìŠ¤í¬ë¡¤ë§Œ
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
    });

    prevBtn.addEventListener("click", () => {
      if (currentStep > 0) {
        currentStep -= 1;
        updateStepUI();
      }
    });

    // ì»¤ë²„ ì¹´ë“œ í´ë¦­
    if (coverGrid) {
      coverGrid.addEventListener("click", (e) => {
        const card = e.target.closest(".cover-card");
        if (!card) return;
        const value = card.getAttribute("data-theme");
        const input = card.querySelector('input[type="radio"]');
        if (input) {
          input.checked = true;
        }
        document
          .querySelectorAll(".cover-card")
          .forEach((c) => c.classList.remove("active"));
        card.classList.add("active");
        renderPreview();
      });
    }

    // ì…ë ¥ ë³€ê²½ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
    fields.forEach((id) => {
      const el = document.getElementById(id);
      if (!el) return;
      el.addEventListener("input", renderPreview);
    });

    document.querySelectorAll('input[name="cover_theme"]').forEach((el) => {
      el.addEventListener("change", renderPreview);
    });

    form.addEventListener("submit", (e) => e.preventDefault());

    // ì´ˆê¸° ë Œë”
    updateStepUI();
    renderPreview();
  </script>
</body>
</html>
